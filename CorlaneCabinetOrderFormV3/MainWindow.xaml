<Window x:Class="CorlaneCabinetOrderFormV3.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CorlaneCabinetOrderFormV3"
        xmlns:viewmodels="clr-namespace:CorlaneCabinetOrderFormV3.ViewModels"
        xmlns:views="clr-namespace:CorlaneCabinetOrderFormV3.Views"
        xmlns:b="clr-namespace:Microsoft.Xaml.Behaviors;assembly=Microsoft.Xaml.Behaviors"
        xmlns:themes="clr-namespace:CorlaneCabinetOrderFormV3.Themes"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="{Binding AppTitle}" 
        Height="1065" Width="1800"
        MinHeight="1065" MinWidth="1800"
        Background="{DynamicResource ABrush.Tone1.Background.Static}"
        >

    <!-- Design-time DataContext (add this block) -->
    <d:Window.DataContext>
        <viewmodels:MainWindowViewModel/>
    </d:Window.DataContext>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1000"/>
                <ColumnDefinition Width=".4*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
        
            <StackPanel Orientation="Horizontal">
            <Button Width="42" Height="42" Margin="20,5,0,10" Command="{Binding LoadJobCommand}" HorizontalAlignment="Left">
                <Viewbox Width="30" Height="30" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:System="clr-namespace:System;assembly=mscorlib">
                    <Rectangle Width="16 " Height="16">
                        <Rectangle.Resources>
                            <SolidColorBrush x:Key="canvas" Opacity="0" />
                            <SolidColorBrush x:Key="light-yellow-10" Color="#996f00" Opacity="0.1" />
                            <SolidColorBrush x:Key="light-yellow-25" Color="#996f00" Opacity="0.25" />
                            <SolidColorBrush x:Key="light-yellow" Color="#996f00" Opacity="1" />
                            <SolidColorBrush x:Key="light-blue" Color="#005dba" Opacity="1" />
                        </Rectangle.Resources>
                        <Rectangle.Fill>
                            <DrawingBrush Stretch="None">
                                <DrawingBrush.Drawing>
                                    <DrawingGroup>
                                        <DrawingGroup x:Name="canvas">
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                        </DrawingGroup>
                                        <DrawingGroup x:Name="level_1">
                                            <GeometryDrawing Brush="{DynamicResource light-yellow-10}" Geometry="F1M11.5,6V8H3.431l-.464.314L1.5,11.981V4.5h4L7,6h4.5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow-25}" Geometry="F1M14.5,8.5l-2,5H1.5l2-5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow-25}" Geometry="F1M12,13H11V9h1Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow}" Geometry="F1M14.431,8H12V5.5L11.5,5H11V8H3.431l-.464.314L2,10.8V5H5.293l1,1H8V5H6.707l-.853-.854L5.5,4h-4L1,4.5v8.864L1.431,14h11l.464-.314,2-5Zm-2.339,5H2.169l1.6-4h9.922Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-blue}" Geometry="F1M14.854,2.146v.708l-2,2-.707-.708L13.293,3H12a2,2,0,0,0-2,2V6H9V5a3,3,0,0,1,3-3h1.293L12.147.854l.707-.708Z" />
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                </Viewbox>

            </Button>
            <Button Width="42" Height="42" Margin="5,5,0,10" Command="{Binding SaveJobCommand}" HorizontalAlignment="Left">
                <Viewbox Width="30" Height="30" xmlns:System="clr-namespace:System;assembly=mscorlib">
                    <Rectangle Width="16 " Height="16">
                        <Rectangle.Resources>
                            <SolidColorBrush x:Key="canvas" Opacity="0" />
                            <SolidColorBrush x:Key="light-blue-10" Color="#005dba" Opacity="0.1" />
                            <SolidColorBrush x:Key="light-blue" Color="#005dba" Opacity="1" />
                            <System:Double x:Key="cls-1">0.75</System:Double>
                        </Rectangle.Resources>
                        <Rectangle.Fill>
                            <DrawingBrush Stretch="None">
                                <DrawingBrush.Drawing>
                                    <DrawingGroup>
                                        <DrawingGroup x:Name="canvas1">
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                        </DrawingGroup>
                                        <DrawingGroup x:Name="level_2">
                                            <GeometryDrawing Brush="{DynamicResource light-blue-10}" Geometry="F1M14.515,3.5v11h-13V1.5h11Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-blue}" Geometry="F1M14.854,3.146l-2-2L12.5,1H1.5L1,1.5v13l.5.5h13l.5-.5V3.5ZM5,2h6V6H5Zm9,12H2V2H4V6.5l.5.5h7l.5-.5V2h.293L14,3.707Z" />
                                            <DrawingGroup Opacity="{DynamicResource cls-1}">
                                                <GeometryDrawing Brush="{DynamicResource light-blue}" Geometry="F1M13,8.5v6H12V9H4v5.5H3v-6L3.5,8h9Z" />
                                            </DrawingGroup>
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                </Viewbox>
            </Button>
            <Button Width="42" Height="42" Margin="5,5,0,10" Command="{Binding PrintCommand}" HorizontalAlignment="Left">
                <Viewbox Width="30" Height="30" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:System="clr-namespace:System;assembly=mscorlib">
                    <Rectangle Width="16 " Height="16">
                        <Rectangle.Resources>
                            <SolidColorBrush x:Key="canvas" Opacity="0" />
                            <SolidColorBrush x:Key="light-defaultgrey-10" Color="#FF878787" Opacity="0.1" />
                            <SolidColorBrush x:Key="light-defaultgrey" Color="#FF787878" Opacity="1" />
                            <SolidColorBrush x:Key="light-teal" Color="#006758" Opacity="1" />
                            <System:Double x:Key="cls-1">0.75</System:Double>
                        </Rectangle.Resources>
                        <Rectangle.Fill>
                            <DrawingBrush Stretch="None">
                                <DrawingBrush.Drawing>
                                    <DrawingGroup>
                                        <DrawingGroup x:Name="canvas2">
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                        </DrawingGroup>
                                        <DrawingGroup x:Name="level_3">
                                            <DrawingGroup Opacity="{DynamicResource cls-1}">
                                                <GeometryDrawing Brush="{DynamicResource light-defaultgrey-10}" Geometry="F1M11.5,1.5V6h-7V1.5Z" />
                                                <GeometryDrawing Brush="{DynamicResource light-defaultgrey-10}" Geometry="F1M11.5,10.5v4h-7v-4Z" />
                                                <GeometryDrawing Brush="{DynamicResource light-defaultgrey}" Geometry="F1M12,1.5V6H11V2H5V6H4V1.5L4.5,1h7Z" />
                                                <GeometryDrawing Brush="{DynamicResource light-defaultgrey}" Geometry="F1M11.5,10h-7l-.5.5v4l.5.5h7l.5-.5v-4ZM11,14H5V11h6Z" />
                                            </DrawingGroup>
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey-10}" Geometry="F1M14.5,7.5v5H12v-2l-.5-.5h-7l-.5.5v2H1.5v-5a1,1,0,0,1,1-1h11A1,1,0,0,1,14.5,7.5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-defaultgrey}" Geometry="F1M15,7.5v5l-.5.5H12V12h2V7.5a.5.5,0,0,0-.5-.5H2.5a.5.5,0,0,0-.5.5V12H4v1H1.5L1,12.5v-5A1.5,1.5,0,0,1,2.5,6h11A1.5,1.5,0,0,1,15,7.5Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-teal}" Geometry="F1M4,8V9H3V8Z" />
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                </Viewbox>

            </Button>

            <Button Width="42" Height="42" Margin="5,5,0,10" Command="{Binding NewJobCommand}" HorizontalAlignment="Left">
                <Viewbox Width="30 " Height="30" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:System="clr-namespace:System;assembly=mscorlib">
                    <Rectangle Width="16 " Height="16">
                        <Rectangle.Resources>
                            <SolidColorBrush x:Key="canvas" Opacity="0" />
                            <SolidColorBrush x:Key="light-yellow" Color="#996f00" Opacity="1" />
                            <SolidColorBrush x:Key="light-yellow-10" Color="#996f00" Opacity="0.1" />
                        </Rectangle.Resources>
                        <Rectangle.Fill>
                            <DrawingBrush Stretch="None">
                                <DrawingBrush.Drawing>
                                    <DrawingGroup>
                                        <DrawingGroup x:Name="canvas3">
                                            <GeometryDrawing Brush="{DynamicResource canvas}" Geometry="F1M16,16H0V0H16Z" />
                                        </DrawingGroup>
                                        <DrawingGroup x:Name="level_4">
                                            <GeometryDrawing Brush="{DynamicResource light-yellow}" Geometry="F1M8,13H7V11H8Zm5-5H11V7h2ZM4,8H2V7H4ZM8,4H7V2H8Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow}" Geometry="F1M10.646,11.354l-1.5-1.5.708-.708,1.5,1.5ZM5.854,5.146l-1.5-1.5-.708.708,1.5,1.5Zm-.03,4.7-.715-.7-1.466,1.5.714.7Zm5.513-5.513L10.63,3.63,9.122,5.138l.707.707Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow-10}" Geometry="F1M7.5,9.632l-.534-1.1a.7.7,0,0,0-.438-.467L5.373,7.5l1.1-.548a.7.7,0,0,0,.461-.435L7.5,5.382l.546,1.092a.705.705,0,0,0,.436.462L9.618,7.5l-1.1.545a.7.7,0,0,0-.46.435Z" />
                                            <GeometryDrawing Brush="{DynamicResource light-yellow}" Geometry="F1M7.494,10.633,6.709,9.017a1.029,1.029,0,0,0-.645-.688L4.373,7.5,5.991,6.7a1.031,1.031,0,0,0,.679-.641L7.5,4.38l.8,1.607a1.035,1.035,0,0,0,.641.68l1.674.834-1.61.8a1.026,1.026,0,0,0-.677.638ZM6.662,7.5a1.943,1.943,0,0,1,.842.837A1.949,1.949,0,0,1,8.347,7.5,1.951,1.951,0,0,1,7.5,6.655,1.961,1.961,0,0,1,6.662,7.5Z" />
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                </Viewbox>
            </Button>
            <Label Content="Current Job:" VerticalAlignment="Center" Margin="20,0,0,0" FontSize="16"/>
            <Label Content="{Binding DisplayJobName}" VerticalAlignment="Center" Margin="0,0,0,0" FontSize="16" FontWeight="Bold"/>
        </StackPanel>

        <TabControl Grid.Row="1" Grid.Column="0" SelectedIndex="{Binding SelectedTabIndex}">

            <TabItem Header="Base Cabinet" Padding="10" Width="120">
                <views:BaseCabinetView DataContext="{Binding BaseCabinetVm}"/>
            </TabItem>

            <TabItem Header="Upper Cabinet" Padding="10" Width="120">
                <views:UpperCabinetView DataContext="{Binding UpperCabinetVm}"/>
            </TabItem>

            <TabItem Header="Filler/End" Padding="10" Width="120">
                <views:FillerView DataContext="{Binding FillerVm}"/>
            </TabItem>

            <TabItem Header="Panel" Padding="10" Width="120">
                <views:PanelView DataContext="{Binding PanelVm}"/>
            </TabItem>

            <TabItem Header="Place Order" Padding="10" Width="120">
                <views:PlaceOrderView DataContext="{Binding PlaceOrderVm}"/>
            </TabItem>

            <TabItem Header="Defaults" Padding="10" Width="120">
                <views:DefaultSettingsView DataContext="{Binding DefaultsVm}"/>
            </TabItem>

            <TabItem Header="Process Order" Padding="10" Width="120">
                <views:ProcessOrderView DataContext="{Binding ProcessOrderVm}"/>
            </TabItem>
        </TabControl>

        <Grid Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" Margin="0,10,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
            
            <views:Cabinet3DView Grid.Column="0" Grid.Row="0"/>
            
            <TabControl Grid.Row="1" Grid.Column="0">
                <TabItem Header="Cabinet List" Padding="10">
                    <views:CabinetListView/>
                </TabItem>

                <TabItem Header="Door Sizes List" Padding="10">
                    <views:DoorSizesListView/>
                </TabItem>

                <TabItem Header="Drawer Box Sizes List" Padding="10">
                    
                </TabItem>
            </TabControl>

            <!--Notification Message-->
            <Border Grid.Row="0" Grid.Column="1"
            Background="{Binding NotificationBackground}"
            Padding="20,10,20,10"
            CornerRadius="6"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Margin="20"
            Visibility="{Binding IsNotificationVisible, Converter={StaticResource B2VConverter}}"
            Opacity="0.95"
            Panel.ZIndex="999">
                <TextBlock
            Text="{Binding NotificationMessage}"
            Foreground="AntiqueWhite"
            FontSize="16"
            FontWeight="SemiBold"
            TextWrapping="Wrap"
            HorizontalAlignment="Center"/>
            </Border>

        </Grid>

        <Border Grid.Row="0" Grid.Column="0"
            Background="{Binding Notification2Background}"
            Padding="40,10,40,10"
            CornerRadius="6"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Margin="0"
            Visibility="{Binding IsNotification2Visible, Converter={StaticResource B2VConverter}}"
            Opacity="0.95"
            Panel.ZIndex="999">
            <TextBlock
            Text="{Binding NotificationMessage2}"
            Foreground="AntiqueWhite"
            FontSize="16"
            FontWeight="SemiBold"
            TextWrapping="Wrap"
            HorizontalAlignment="Center"/>
        </Border>


    </Grid>
</Window>