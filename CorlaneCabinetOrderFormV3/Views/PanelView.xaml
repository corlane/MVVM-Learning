<UserControl x:Class="CorlaneCabinetOrderFormV3.Views.PanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CorlaneCabinetOrderFormV3.Views"
             xmlns:viewmodels="clr-namespace:CorlaneCabinetOrderFormV3.ViewModels"    
             xmlns:Converters="clr-namespace:CorlaneCabinetOrderFormV3.Converters"
             xmlns:Models="clr-namespace:CorlaneCabinetOrderFormV3.Models"
             mc:Ignorable="d" 
             d:DesignHeight="920" d:DesignWidth="1000"
             d:Background="{DynamicResource ABrush.Tone8.Background.Static}"
             Background="{DynamicResource ABrush.Tone1.Background.Static}"             
             >

    <!-- Design-time DataContext (so intellisense will work) -->
    <d:UserControl.DataContext>
        <viewmodels:PanelViewModel/>
    </d:UserControl.DataContext>

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <Converters:BoolInverter x:Key="BoolInverter"/>
        <Converters:StringToIntConverter x:Key="StringToIntConverter"/>
    </UserControl.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>


        <GroupBox x:Name="groupPanelDimensions" Grid.Column="0" Grid.Row="0" Header="Dimensions" Margin="160,5,5,5" HorizontalAlignment="Left" Padding="0,0,20,0" VerticalAlignment="Top">
            <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal">
                    <Label Content="Width" HorizontalAlignment="Left" Margin="5,5,3,0"/>
                    <TextBox x:Name="textWidthUpper" Width="50" HorizontalAlignment="Right" VerticalAlignment="Center" GotFocus="TextBoxGotFocus"
                                                 Text="{Binding Width, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <TextBlock FontSize="12" Foreground="Red" Margin="5 0 0 0" 
                                               Visibility="{Binding (Validation.HasError), ElementName=textWidthUpper, Converter={StaticResource BoolToVisibilityConverter}}"
                                           Text="{Binding (Validation.Errors)[0].ErrorContent, ElementName=textWidthUpper, FallbackValue=''}"/>

                <StackPanel Orientation="Horizontal">
                    <Label Content="Height" Margin="5,0,0,0" HorizontalAlignment="Left"/>
                    <TextBox x:Name="textHeightUpper" Width="50" HorizontalAlignment="Left" VerticalAlignment="Center" GotFocus="TextBoxGotFocus"
                                                 Text="{Binding Height, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <TextBlock FontSize="12" Foreground="Red" Margin="5 0 0 0" 
                                               Visibility="{Binding (Validation.HasError), ElementName=textHeightUpper, Converter={StaticResource BoolToVisibilityConverter}}"
                                           Text="{Binding (Validation.Errors)[0].ErrorContent, ElementName=textHeightUpper, FallbackValue=''}"/>

                <StackPanel Orientation="Horizontal">
                    <Label Content="Thickness" Margin="5,0,4,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                    <ComboBox x:Name="comboDepth" Width="50" HorizontalAlignment="Left" VerticalAlignment="Center" ItemsSource="{Binding ListPanelDepths}" Margin="0,5,10,10"
                                                 Text="{Binding Depth, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <TextBlock FontSize="12" Foreground="Red" Margin="5 0 0 0" 
                                               Visibility="{Binding (Validation.HasError), ElementName=comboDepth, Converter={StaticResource BoolToVisibilityConverter}}"
                                           Text="{Binding (Validation.Errors)[0].ErrorContent, ElementName=comboDepth, FallbackValue=''}"/>
            </StackPanel>
        </GroupBox>


        <GroupBox Header="Species" Grid.Row="0" Grid.Column="1" Margin="-25,5,5,5" HorizontalAlignment="Left" VerticalAlignment="Top" >
            <StackPanel Orientation="Vertical">
                <Label Content="Species:" Margin="0,0,0,-8"/>
                <ComboBox Name="comboBaseCabinetSpecies" Margin="5" ItemsSource="{Binding ListCabSpecies}" SelectedItem="{Binding Species}" HorizontalAlignment="Left" Width="190"/>
                <Label Content="Custom Species:" Margin="0,-8,0,-8"/>
                <TextBox Margin="5" Text="{Binding CustomSpecies}" HorizontalAlignment="Left" Width="190" IsEnabled="{Binding CustomCabSpeciesEnabled}"/>
                <Separator/>
                <Label Content="Edgebanding" Margin="0,0,0,-8"/>
                <ComboBox Name="comboBaseEBSpecies" Margin="5" ItemsSource="{Binding ListEBSpecies}" SelectedValue="{Binding EBSpecies}" HorizontalAlignment="Left" Width="190"/>
                <Label Content="Custom Edgebanding Species:" Margin="0,-8,0,-8"/>
                <TextBox Margin="5" Text="{Binding CustomEBSpecies}" HorizontalAlignment="Left" Width="190" IsEnabled="{Binding CustomEBSpeciesEnabled}"/>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="Select Edges To Be Edgebanded" Grid.Row="0" Grid.Column="1" Margin="-25,240,5,5" VerticalAlignment="Top" HorizontalAlignment="Left" Grid.RowSpan="3">
            <StackPanel Orientation="Vertical">
                <CheckBox x:Name="checkEBPanelTop" Content="Top" HorizontalAlignment="Center" Margin="0,15,0,5" IsChecked="{Binding PanelEBTop}"/>
                <StackPanel Orientation="Horizontal">
                    <CheckBox x:Name="checkEBPanelLeft" Content="Left" VerticalAlignment="Center" Margin="10,0,0,0" IsChecked="{Binding PanelEBLeft}"/>
                    <Image Source="/Images/woodgrain.PNG" Width="150" Height="200" HorizontalAlignment="Center" Margin="0,0,0,0"/>
                    <CheckBox x:Name="checkEBPanelRight" Content="Right" VerticalAlignment="Center" Margin="5,0,10,0" IsChecked="{Binding PanelEBRight}"/>
                </StackPanel>
                <CheckBox x:Name="checkEBPanelBottom" Content="Bottom" HorizontalAlignment="Center" Margin="26,5,0,20" IsChecked="{Binding PanelEBBottom}"/>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="Special instructions/notes for this item" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Width="350" Height="160" Margin="25,45,10,200" HorizontalAlignment="Right" VerticalAlignment="Bottom" Grid.RowSpan="2">
            <TextBox x:Name="textUpperCabNotes" Margin="5" IsReadOnly="False" TextWrapping="Wrap" Text="{Binding Notes}"/>
        </GroupBox>


        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Vertical" HorizontalAlignment="Right" Margin="5" VerticalAlignment="Bottom" Grid.ColumnSpan="2">

            <StackPanel Orientation="Vertical" Margin="5">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5" VerticalAlignment="Top">
                    <Button x:Name="buttonLoadDefaults" Content="Load Defaults" Width="100" Height="30" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,5,125,5" Command="{Binding LoadDefaultsCommand, Mode=OneWay}"/>

                    <Label Content="Quantity:" Margin="5"/>
                    <TextBox x:Name="textQty" Width="40" Height="25" VerticalAlignment="Center" Margin="0" 
             Text="{Binding Qty,
                            UpdateSourceTrigger=PropertyChanged,
                            Converter={StaticResource StringToIntConverter}}" GotFocus="TextBoxGotFocus"/>
                </StackPanel>
                <TextBlock FontSize="12" Foreground="Red" Margin="5 0 0 0" HorizontalAlignment="Right"
                                               Visibility="{Binding (Validation.HasError), ElementName=textQty, Converter={StaticResource BoolToVisibilityConverter}}"
                                           Text="{Binding (Validation.Errors)[0].ErrorContent, ElementName=textQty, FallbackValue=''}"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5" VerticalAlignment="Top">
                    <Label Content="Name (Optional):" VerticalAlignment="Top" Margin="5"/>
                    <TextBox x:Name="textNameUpper" Width="140" Height="25" VerticalAlignment="Center" Margin="0" 
                                             Text="{Binding Name}" GotFocus="TextBoxGotFocus"/>
                </StackPanel>

                <Button x:Name="buttonAddUpper" Content="Add to List" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="5" Padding="5" IsEnabled="{Binding HasErrors, Converter={StaticResource BoolInverter}}" 
                                            Command="{Binding AddCabinetCommand}"/>
                <Button x:Name="buttonUpdateUpper" Content="Update in List" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="5" Padding="5" IsEnabled="{Binding HasErrors, Converter={StaticResource BoolInverter}}" 
                                            Command="{Binding UpdateCabinetCommand}"/>
            </StackPanel>
        </StackPanel>

    </Grid>
</UserControl>
